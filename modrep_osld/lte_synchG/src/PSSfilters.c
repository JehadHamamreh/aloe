/*
 * synch.c
 *
 *  Created on: 24/06/2012
 *      Author: xavier
 */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <complex.h>
#include <fftw3.h>
#include <math.h>
#include <oesr.h>
#include <params.h>
#include <skeleton.h>

#define INCLUDE_DEFS_ONLY
#include "lte_synchG.h"
#include "utils.h"
#include "syncSignals.h"
#include "PSSfilters.h"

//Global variables
float LPPSS_128filter[128];
float LPPSS_256filter[128];
float LPPSS_512filter[128];
float LPPSS_1024filter[128];
float LPPSS_1536filter[128];
float LPPSS_2048filter[128];


void setPSS_LPrealfilter128(float *LPfilter){

			LPfilter[0] = 0.014109252267224575011494991372273943853;
			LPfilter[1] = -0.025220377003168519686182591499346017372;
			LPfilter[2] = -0.007571247465783137453598783395136706531;
			LPfilter[3] = 0.015147608377355459285951155834482051432;
			LPfilter[4] = 0.00168146657996015233549336187479639193;
			LPfilter[5] = -0.023914651931097170162177079077991947997;
			LPfilter[6] = -0.00014139916068237751156644321781641338;
			LPfilter[7] = 0.031238415126859386122815109843031677883;
			LPfilter[8] = -0.006355097340881233486387102971093554515;
			LPfilter[9] = -0.042996515772959868761926571778531069867;
			LPfilter[10] = 0.017596875204484989374531522798861260526;
			LPfilter[11] = 0.061711964394161364366730992969678482041;
			LPfilter[12] = -0.0421940932282297842537133192308829166;
			LPfilter[13] = -0.104975078180007355688196923892974155024;
			LPfilter[14] = 0.129777245270648711183980594796594232321;
			LPfilter[15] = 0.467991517945049673166124648560071364045;
			LPfilter[16] = 0.467991517945049673166124648560071364045;
			LPfilter[17] = 0.129777245270648711183980594796594232321;
			LPfilter[18] = -0.104975078180007355688196923892974155024;
			LPfilter[19] = -0.0421940932282297842537133192308829166;
			LPfilter[20] = 0.061711964394161364366730992969678482041,
			LPfilter[21] = 0.017596875204484989374531522798861260526;
			LPfilter[22] = -0.042996515772959868761926571778531069867;
			LPfilter[23] = -0.006355097340881233486387102971093554515;
			LPfilter[24] = 0.031238415126859386122815109843031677883;
			LPfilter[25] = -0.00014139916068237751156644321781641338;
			LPfilter[26] = -0.023914651931097170162177079077991947997;
			LPfilter[27] = 0.00168146657996015233549336187479639193;
			LPfilter[28] = 0.015147608377355459285951155834482051432;
			LPfilter[29] = -0.007571247465783137453598783395136706531;
			LPfilter[30] = -0.025220377003168519686182591499346017372;
			LPfilter[31] = 0.014109252267224575011494991372273943853;
}


void setPSS_LPrealfilter512(float *LPfilter){

			LPfilter[0] =  0.050267796652617130481743856762477662414;
			LPfilter[1] =  0.006784382367035732795679248141595962807;
			LPfilter[2] =  0.002033468067836512096352441503199770523;
			LPfilter[3] = -0.005714814604275572640368352494988357648;
			LPfilter[4] = -0.015089809073968141542310128500048449496;
			LPfilter[5] = -0.023818655763364709326834756097923673224;
			LPfilter[6] = -0.029557914209327615373545938837196445093;
			LPfilter[7] = -0.02988099690060474003527879460762051167;
			LPfilter[8] = -0.022954604268974939523806355623491981532;
			LPfilter[9] = -0.008080813859026272916175059890520060435;
			LPfilter[10] =  0.014294060070120540376081841316135978559;
			LPfilter[11] =  0.042287009319640585236488306009050575085;
			LPfilter[12] =  0.072880133551394610247342598086106590927;
			LPfilter[13] =  0.102391451497370000733866390874027274549;
			LPfilter[14] =  0.126933100943245363856348717490618582815;
			LPfilter[15] =  0.143178481737972429499450299772433936596;
			LPfilter[16] =  0.148870490721939724432232310391555074602;
			LPfilter[17] =  0.143178481737972429499450299772433936596;
			LPfilter[18] =  0.126933100943245363856348717490618582815;
			LPfilter[19] =  0.102391451497370000733866390874027274549;
			LPfilter[20] =  0.072880133551394610247342598086106590927;
			LPfilter[21] =  0.042287009319640585236488306009050575085;
			LPfilter[22] =  0.014294060070120540376081841316135978559;
			LPfilter[23] = -0.008080813859026272916175059890520060435;
			LPfilter[24] = -0.022954604268974939523806355623491981532;
			LPfilter[25] = -0.02988099690060474003527879460762051167;
			LPfilter[26] = -0.029557914209327615373545938837196445093;
			LPfilter[27] = -0.023818655763364709326834756097923673224;
			LPfilter[28] = -0.015089809073968141542310128500048449496;
			LPfilter[29] = -0.005714814604275572640368352494988357648;
			LPfilter[30] =  0.002033468067836512096352441503199770523;
			LPfilter[31] =  0.006784382367035732795679248141595962807;
			LPfilter[32] =  0.050267796652617130481743856762477662414;

}

