\section{/home/ismael/aloe\-\_\-ws/aloe\-\_\-git/rtdal\-\_\-lnx/src/rtdal\-\_\-context.h File Reference}
\label{rtdal__context_8h}\index{/home/ismael/aloe\-\_\-ws/aloe\-\_\-git/rtdal\-\_\-lnx/src/rtdal\-\_\-context.\-h@{/home/ismael/aloe\-\_\-ws/aloe\-\_\-git/rtdal\-\_\-lnx/src/rtdal\-\_\-context.\-h}}
{\ttfamily \#include $<$pthread.\-h$>$}\\*
{\ttfamily \#include \char`\"{}rtdal\-\_\-itfspscq.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rtdal\-\_\-itfphysic.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rtdal\-\_\-dac.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rtdal\-\_\-machine.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rtdal\-\_\-error.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rtdal\-\_\-periodic.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rtdal\-\_\-time.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pipeline.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}objects\-\_\-max.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}rtdal.\-h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct {\bf rtdal\-\_\-context\-\_\-t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int {\bf rtdal\-\_\-initialize\-\_\-node} ({\bf rtdal\-\_\-context\-\_\-t} $\ast$context, {\bf string} config\-\_\-file, void($\ast$ts\-\_\-begin\-\_\-fnc)(void))
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{rtdal\-\_\-context.\-h@{rtdal\-\_\-context.\-h}!rtdal\-\_\-initialize\-\_\-node@{rtdal\-\_\-initialize\-\_\-node}}
\index{rtdal\-\_\-initialize\-\_\-node@{rtdal\-\_\-initialize\-\_\-node}!rtdal_context.h@{rtdal\-\_\-context.\-h}}
\subsubsection[{rtdal\-\_\-initialize\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}int rtdal\-\_\-initialize\-\_\-node (
\begin{DoxyParamCaption}
\item[{{\bf rtdal\-\_\-context\-\_\-t} $\ast$}]{\-\_\-context, }
\item[{{\bf string}}]{config\-\_\-file, }
\item[{void($\ast$)(void)}]{ts\-\_\-begin\-\_\-fnc}
\end{DoxyParamCaption}
)}\label{rtdal__context_8h_a298f5f4423ff0d973efcd3aed544caaf}
Must be called before any other function.

1) Parse configuration file and fill +machine attributes 2) Create interfaces. Call -\/create\-Node\-Interfaces() 3) Setup synchronization\-:   3.\-1) If I am the synchronization master, set machine.\-clock\-Source=C\-L\-O\-C\-K\-S\-R\-C\-\_\-\-T\-I\-M\-E\-R if source=\char`\"{}timer\char`\"{} or machine.\-clock\-Source=C\-L\-O\-C\-K\-S\-R\-C\-\_\-\-D\-A\-C if source=\char`\"{}dac\-:/\char`\"{}   3.\-2) If I am an slave node, set machine.\-clock\-Source=C\-L\-O\-C\-K\-S\-R\-C\-\_\-\-T\-I\-M\-E\-R if continuous\-\_\-mode=F\-A\-L\-S\-E or machine.\-clock\-Source=C\-L\-O\-C\-K\-S\-R\-C\-\_\-\-S\-Y\-N\-C if continuous\-\_\-mode=T\-R\-U\-E   3.\-3) Set machine.\-sync\-Continuous boolean if continuous\-\_\-mode=T\-R\-U\-E   3.\-4) Set machine.\-sync\-Master boolean if I am the synchronization master reference   3.\-5) Set machine.\-sync\-Period to the synchronization period 4) setup D\-A\-C (if my node has a D\-A\-C). For each D\-A\-C, create an instance of the D\-A\-C type and\-:   4.\-1) Call D\-A\-C.\-open\-D\-A\-C(address,options,null) if machine.\-clock\-Source!=C\-L\-O\-C\-K\-S\-R\-C\-\_\-\-D\-A\-C   4.\-2) Call D\-A\-C.\-set\-Scheduler(ts\-Begin\-Fnc, machine.\-kernel\-Prio) if machine.\-clock\-Source==C\-L\-O\-C\-K\-S\-R\-C\-\_\-\-D\-A\-C 5) create max\-\_\-spscqs\-\_\-x\-\_\-node +spscqs and max\-\_\-modules\-\_\-x\-\_\-node +procs objects 

Definition at line 62 of file rtdal\-\_\-base.\-c.



References rtdal\-\_\-context\-\_\-t\-::error, rtdal\-\_\-context\-\_\-t\-::machine, rtdal\-\_\-error\-\_\-set\-\_\-context(), rtdal\-\_\-time\-\_\-reset(), rtdal\-\_\-time\-\_\-set\-\_\-context(), rtdal\-\_\-context\-\_\-t\-::time, rtdal\-\_\-time\-\_\-t\-::ts\-\_\-len\-\_\-us, and rtdal\-\_\-machine\-\_\-t\-::ts\-\_\-len\-\_\-us.

